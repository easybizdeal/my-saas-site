{% extends 'base.html' %}

{% block title %}View Campaigns â€“ Easy Biz Deal{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/view_campaigns.css') }}">
{% endblock %}

{% block content %}
<div class="campaign-container">
  <h2>Your Campaigns</h2>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="flash-message">
        {% for msg in messages %}
          <p>{{ msg }}</p>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  {% if campaigns %}
    <div class="campaign-list">
      {% for campaign in campaigns %}
        <div class="campaign-card">
          <h3>{{ campaign.name }}</h3>
          <p><strong>Tool:</strong> {{ campaign.tool_name }}</p>
          <p><strong>Created On:</strong> {{ campaign.created_on.strftime('%B %d, %Y') }}</p>
          <p><strong>Message:</strong> {{ campaign.message[:100] }}...</p>
          <a href="{{ url_for('view_campaign', campaign_id=campaign.id) }}" class="view-btn">View</a>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No campaigns found.</p>
  {% endif %}
</div>
{% endblock %}
